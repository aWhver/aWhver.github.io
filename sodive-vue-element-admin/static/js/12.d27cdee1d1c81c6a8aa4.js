webpackJsonp([12],{Q5K5:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i("BO1k"),l=i.n(n),a=i("ms7A"),s={},o={name:"user",data:function(){return{list:null,total:1,loading:!0,visible:!1,listQuery:{page:1,limit:10},countryMap:[],selectedInfo:{isLogOff:null,userId:null},promptMap:["恢复用户成功","注销用户成功"],imageList:[]}},created:function(){this.GetUserList()},methods:{GetUserList:function(){var t=this;this.loading=!0,Object(a.f)(this.listQuery).then(function(e){t.list=e.data.userList,t.total=e.data.total,t.loading=!1})},showDialog:function(t){this.selectedInfo.isLogOff=t.status?0:1,this.selectedInfo.userId=t.userId,this.visible=!0},logOffReback:function(){var t=!0,e=!1,i=void 0;try{for(var n,a=l()(this.list);!(t=(n=a.next()).done);t=!0){var s=n.value;if(s.userId===this.selectedInfo.userId){0===s.status?s.status=1:s.status=0,this.$notify({type:"success",message:this.promptMap[s.status],title:"Prompt",duration:2e3});break}}}catch(t){e=!0,i=t}finally{try{!t&&a.return&&a.return()}finally{if(e)throw i}}this.visible=!1},browseCertificate:function(t){this.imageList=t.image},searchBtn:function(){this.listQuery.page=1,this.GetUserList()},acceptQuery:function(t){this.listQuery=t.listQuery,this.countryMap=t.countryMap,s=t.countryMap.reduce(function(t,e){return t[e.key]=e.name,t},{})}},filters:{countryFilter:function(t){return s[t]}},components:{multiplicationFilter:i("ILbm").a}},r={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("el-container",[i("multiplicationFilter",{attrs:{searchBtn:t.searchBtn},on:{sendListQuery:t.acceptQuery}},[i("div",{staticClass:"filter-item"},[i("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:function(e){t.searchBtn()}}},[t._v("搜索")])],1)]),t._v(" "),i("el-main",[i("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{border:"",data:t.list,"element-loading-text":"小主,我需要时间..."}},[i("el-table-column",{attrs:{type:"expand"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("el-form",{staticClass:"expand-table",attrs:{"label-position":"left",inline:""}},[i("el-form-item",[i("img",{attrs:{src:e.row.coachAvatar,alt:""}})]),t._v(" "),i("el-form-item",{attrs:{label:"性别"}},[i("span",[t._v(t._s(e.row.sex))])]),t._v(" "),i("el-form-item",{attrs:{label:"手机"}},[i("span",[t._v(t._s(e.row.phoneNo))])]),t._v(" "),i("el-form-item",{attrs:{label:"邮箱"}},[i("span",[t._v(t._s(e.row.email))])])],1)]}}])}),t._v(" "),i("el-table-column",{attrs:{label:"序号",align:"center",prop:"id"}}),t._v(" "),i("el-table-column",{attrs:{label:"用户ID",align:"center",prop:"userId"}}),t._v(" "),i("el-table-column",{attrs:{label:"昵称",align:"center",prop:"nickName"}}),t._v(" "),i("el-table-column",{attrs:{label:"地区",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("span",[t._v(t._s(t._f("countryFilter")(e.row.countryName)))])]}}])}),t._v(" "),i("el-table-column",{attrs:{label:"注册时间","min-width":"120px",align:"center",prop:"registerTime"}}),t._v(" "),i("el-table-column",{attrs:{label:"证书",align:"center",prop:"certificate"}}),t._v(" "),i("el-table-column",{attrs:{label:"已推荐用户",align:"center",prop:"recommendNum"}}),t._v(" "),i("el-table-column",{attrs:{label:"推荐人",align:"center",prop:"recommendName"}}),t._v(" "),i("el-table-column",{attrs:{label:"所属教练",align:"center",prop:"ownCoach"}}),t._v(" "),i("el-table-column",{attrs:{label:"状态",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[0===e.row.status?i("el-tag",{attrs:{type:"info"}},[t._v("\n              正常\n            ")]):t._e(),t._v(" "),1===e.row.status?i("el-tag",{attrs:{type:"danger"}},[t._v("\n              注销\n            ")]):t._e()]}}])}),t._v(" "),i("el-table-column",{attrs:{label:"操作",width:"190px"},scopedSlots:t._u([{key:"default",fn:function(e){return[0===e.row.status&&"未上传"!==e.row.certificate?[i("el-button",{attrs:{type:"info"},on:{click:function(i){t.showDialog(e.row)}}},[t._v("注销")]),t._v(" "),i("el-button",{attrs:{type:"success",icon:"el-icon-picture"},on:{click:function(i){t.browseCertificate(e.row)}}},[t._v("查看证书")])]:1===e.row.status&&"未上传"!==e.row.certificate?[i("el-button",{attrs:{type:"primary"},on:{click:function(i){t.showDialog(e.row)}}},[t._v("恢复")]),t._v(" "),i("el-button",{attrs:{type:"success",icon:"el-icon-picture"},on:{click:function(i){t.browseCertificate(e.row)}}},[t._v("查看证书")])]:1===e.row.status?[i("el-button",{attrs:{type:"primary"},on:{click:function(i){t.showDialog(e.row)}}},[t._v("恢复")])]:[i("el-button",{attrs:{type:"info"},on:{click:function(i){t.showDialog(e.row)}}},[t._v("注销")])]]}}])})],1)],1),t._v(" "),i("el-footer",[i("pagination",{attrs:{listQuery:t.listQuery,total:t.total,GetList:t.GetUserList}})],1)],1),t._v(" "),i("el-dialog",{attrs:{title:t.selectedInfo.isLogOff?"注销用户":"恢复用户",visible:t.visible,width:"350px",center:""},on:{"update:visible":function(e){t.visible=e}}},[i("div",{staticClass:"input-item",staticStyle:{"text-align":"center"}},[t.selectedInfo.isLogOff?i("h3",[t._v("确定要注销用户(ID: "+t._s(t.selectedInfo.userId)+")?")]):i("h3",[t._v("确定要恢复用户(ID: "+t._s(t.selectedInfo.userId)+")?")])]),t._v(" "),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(e){t.visible=!1}}},[t._v("取 消")]),t._v(" "),i("el-button",{attrs:{type:"primary"},on:{click:function(e){t.logOffReback()}}},[t._v("确 定")])],1)]),t._v(" "),i("photo-swipe",{attrs:{imageList:t.imageList}})],1)},staticRenderFns:[]};var c=i("VU/8")(o,r,!1,function(t){i("aPSS")},null,null);e.default=c.exports},aPSS:function(t,e){}});