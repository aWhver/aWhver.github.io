webpackJsonp([30],{"2qmY":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i("BO1k"),l=i.n(s),a=i("vLgD");var o=i("0xDb"),n=[{logisticsStatus:0,label:"无物流"},{logisticsStatus:1,label:"待发货"},{logisticsStatus:2,label:"配送中"},{logisticsStatus:3,label:"已签收"},{logisticsStatus:4,label:"拒签收"}],r=n.reduce(function(t,e){return t[e.logisticsStatus]=e.label,t},{}),c={name:"order",data:function(){return{activeName:"order",list:null,total:1,listQuery:{page:1,orderNo:null,userId:null},visible:!1,loading:!0,logisticsStatusMap:n,canEditInfo:{logisticsStatus:null,receiver:"",phoneNo:"",receiveAddress:"",goodsPic:"",id:"",logisticsNo:"",logisticsCompany:""}}},created:function(){this.GetOrderList()},methods:{GetOrderList:function(){var t,e=this;this.loading=!0,(t=this.listQuery,Object(a.a)({url:"/orderList",method:"get",params:t})).then(function(t){e.list=t.data.orderList,e.total=t.data.total,e.loading=!1})},editInfo:function(t){this.visible=!0,this.canEditInfo.logisticsStatus=t.logisticsStatus,this.canEditInfo.receiver=t.receiver,this.canEditInfo.phoneNo=t.phoneNo,this.canEditInfo.receiveAddress=t.receiveAddress,this.canEditInfo.goodsPic=t.goodsPic,this.canEditInfo.id=t.id,0!==t.logisticsStatus?(this.canEditInfo.logisticsNo=t.logisticsNo,this.canEditInfo.logisticsCompany=t.logisticsCompany):(this.canEditInfo.logisticsNo="",this.canEditInfo.logisticsCompany="")},modifyStatus:function(){if(""!==this.canEditInfo.logisticsNo||""!==this.canEditInfo.logisticsCompany)if(""!==this.canEditInfo.logisticsCompany)if(""!==this.canEditInfo.logisticsNo){var t=!0,e=!1,i=void 0;try{for(var s,a=l()(this.list);!(t=(s=a.next()).done);t=!0){var n=s.value;n.id===this.canEditInfo.id&&(n.logisticsStatus=this.canEditInfo.logisticsStatus,n.updateTime=Object(o.a)())}}catch(t){e=!0,i=t}finally{try{!t&&a.return&&a.return()}finally{if(e)throw i}}this.canEditInfo.logisticsNo="",this.canEditInfo.logisticsCompany="",this.visible=!1}else this.$message({message:"物流单号不能为空",type:"warning"});else this.$message({message:"物流公司不能为空",type:"warning"});else this.$message({message:"物流单号和物流公司不能为空",type:"warning"})},acceptQuery:function(t){this.listQuery=t.listQuery}},filters:{updateTimeFilter:function(t){if(0!==t.logisticsStatus)return t.updateTime},logisticsStatusFilter:function(t){return r[t]},statusTagFilter:function(t){return["info","warning","primary","success","danger"][t]}}},u={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("el-tabs",{model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[i("el-tab-pane",{attrs:{label:"兑换券订单",name:"order"}},[i("certificate-filter",{attrs:{GetList:t.GetOrderList},on:{sendListQuery:t.acceptQuery}},[i("div",{staticClass:"filter-item"},[i("el-input",{attrs:{placeholder:"订单号",clearable:""},model:{value:t.listQuery.orderNo,callback:function(e){t.$set(t.listQuery,"orderNo",e)},expression:"listQuery.orderNo"}})],1),t._v(" "),i("div",{staticClass:"filter-item"},[i("el-input",{staticStyle:{width:"100px"},attrs:{placeholder:"ID",clearable:""},model:{value:t.listQuery.userId,callback:function(e){t.$set(t.listQuery,"userId",e)},expression:"listQuery.userId"}})],1)]),t._v(" "),i("el-main",[i("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticStyle:{"text-align":"center"},attrs:{data:t.list,border:"","element-loading-text":"小主,我需要时间..."}},[i("el-table-column",{attrs:{label:"序号",prop:"id"}}),t._v(" "),i("el-table-column",{attrs:{label:"用户ID",prop:"userId"}}),t._v(" "),i("el-table-column",{attrs:{label:"订单号",prop:"orderNo"}}),t._v(" "),i("el-table-column",{attrs:{label:"昵称",prop:"nickName"}}),t._v(" "),i("el-table-column",{attrs:{label:"手机",prop:"phoneNo"}}),t._v(" "),i("el-table-column",{attrs:{label:"支付方式",prop:"payType"}}),t._v(" "),i("el-table-column",{attrs:{label:"创建时间",prop:"createTime"}}),t._v(" "),i("el-table-column",{attrs:{label:"更新时间"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("span",[t._v(t._s(t._f("updateTimeFilter")(e.row)))])]}}])}),t._v(" "),i("el-table-column",{attrs:{label:"物流状态"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("el-tag",{attrs:{type:t._f("statusTagFilter")(e.row.logisticsStatus)}},[t._v(t._s(t._f("logisticsStatusFilter")(e.row.logisticsStatus)))])]}}])}),t._v(" "),i("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("el-button",{attrs:{type:"primary"},on:{click:function(i){t.editInfo(e.row)}}},[t._v("物流操作")])]}}])})],1)],1),t._v(" "),i("el-footer",[i("pagination",{attrs:{total:t.total,listQuery:t.listQuery,GetList:t.GetOrderList}})],1)],1)],1),t._v(" "),i("el-dialog",{staticClass:"logistics-info",attrs:{title:"物流操作",visible:t.visible,width:"570px"},on:{"update:visible":function(e){t.visible=e}}},[i("el-card",[i("figure",[i("img",{attrs:{src:t.canEditInfo.goodsPic,alt:""}})]),t._v(" "),i("div",{staticClass:"info-container"},[i("div",{staticClass:"info-item"},[i("el-form",{attrs:{inline:""}},[i("el-form-item",{attrs:{label:"收货人"}},[i("span",[t._v(t._s(t.canEditInfo.receiver))]),t._v("   "+t._s(t.canEditInfo.phoneNo)+"\n            ")]),t._v(" "),i("br"),t._v(" "),i("el-form-item",{attrs:{label:"收货地址"}},[t._v("\n              "+t._s(t.canEditInfo.receiveAddress)+"\n            ")]),t._v(" "),i("el-form-item",{staticStyle:{display:"block"},attrs:{label:"物流状态"}},[i("el-select",{model:{value:t.canEditInfo.logisticsStatus,callback:function(e){t.$set(t.canEditInfo,"logisticsStatus",e)},expression:"canEditInfo.logisticsStatus"}},t._l(t.logisticsStatusMap,function(t){return i("el-option",{key:t.logisticsStatus,attrs:{value:t.logisticsStatus,label:t.label}})}))],1),t._v(" "),i("el-form-item",{attrs:{label:"物流单号"}},[i("el-input",{attrs:{placeholder:"输入订单号",clearable:""},model:{value:t.canEditInfo.logisticsNo,callback:function(e){t.$set(t.canEditInfo,"logisticsNo",e)},expression:"canEditInfo.logisticsNo"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"物流公司"}},[i("el-input",{attrs:{placeholder:"输入物流公司",clearable:""},model:{value:t.canEditInfo.logisticsCompany,callback:function(e){t.$set(t.canEditInfo,"logisticsCompany",e)},expression:"canEditInfo.logisticsCompany"}})],1)],1)],1)])]),t._v(" "),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(e){t.visible=!1}}},[t._v("取消")]),t._v(" "),i("el-button",{attrs:{type:"primary"},on:{click:function(e){t.modifyStatus()}}},[t._v("确定")])],1)],1)],1)},staticRenderFns:[]};var d=i("VU/8")(c,u,!1,function(t){i("Z0mT")},null,null);e.default=d.exports},Z0mT:function(t,e){}});