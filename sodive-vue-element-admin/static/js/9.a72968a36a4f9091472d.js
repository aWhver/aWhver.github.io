webpackJsonp([9],{"1x8f":function(t,e,r){"use strict";e.a=function(t){return Object(s.a)({url:"contentManagement/coverList",method:"get",params:t})};var s=r("vLgD")},NBVL:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=r("BO1k"),i=r.n(s),a=r("d7EF"),n=r.n(a),l=r("1x8f"),o={name:"discoverPass",data:function(){return{activeName:"pending",list:null,total:1,listQuery:{page:1,type:2,userId:null}}},created:function(){this.GetCoverList()},methods:{GetCoverList:function(){var t=this;Object(l.a)(this.listQuery).then(function(e){t.list=e.data.coverList,t.total=e.data.total})},review:function(t){var e=!0,r=!1,s=void 0;try{for(var a,l=i()(this.list.entries());!(e=(a=l.next()).done);e=!0){var o=a.value,u=n()(o,2),c=u[0];if(u[1].userId===t.userId){this.list[c].status=1;break}}}catch(t){r=!0,s=t}finally{try{!e&&l.return&&l.return()}finally{if(r)throw s}}this.$notify({title:"Prompt",message:"成功将此条发现修改为重新审核",type:"info",duration:2e3})},pass:function(t){var e=!0,r=!1,s=void 0;try{for(var a,l=i()(this.list.entries());!(e=(a=l.next()).done);e=!0){var o=a.value,u=n()(o,2),c=u[0];if(u[1].userId===t.userId){this.list[c].status=2;break}}}catch(t){r=!0,s=t}finally{try{!e&&l.return&&l.return()}finally{if(r)throw s}}this.$notify({title:"Prompt",message:"成功将此条发现通过审核",type:"info",duration:2e3})},noPass:function(t){var e=!0,r=!1,s=void 0;try{for(var a,l=i()(this.list.entries());!(e=(a=l.next()).done);e=!0){var o=a.value,u=n()(o,2),c=u[0];if(u[1].userId===t.userId){this.list[c].status=0;break}}}catch(t){r=!0,s=t}finally{try{!e&&l.return&&l.return()}finally{if(r)throw s}}this.$notify({title:"Prompt",message:"成功将此条发现设为不通过",type:"info",duration:2e3})},deleteCover:function(t){var e=!0,r=!1,s=void 0;try{for(var a,l=i()(this.list.entries());!(e=(a=l.next()).done);e=!0){var o=a.value,u=n()(o,2),c=u[0];if(u[1].userId===t.userId){this.list.splice(c,1);break}}}catch(t){r=!0,s=t}finally{try{!e&&l.return&&l.return()}finally{if(r)throw s}}this.$notify({title:"Prompt",message:"成功将此条发现删除",type:"info",duration:2e3})},acceptQuery:function(t){this.listQuery=t.listQuery,this.listQuery.type=2}},filters:{statusFilter:function(t){return["审核失败","待审核","通过"][t]},statusTagFilter:function(t){return["danger","primary","success"][t]}}},u={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("certificate-filter",{attrs:{GetList:t.GetCoverList},on:{sendListQuery:t.acceptQuery}},[r("div",{staticClass:"filter-item"},[r("el-input",{attrs:{placeholder:"发布者ID",clearable:""},model:{value:t.listQuery.userId,callback:function(e){t.$set(t.listQuery,"userId",e)},expression:"listQuery.userId"}})],1)]),t._v(" "),r("el-main",[r("el-table",{staticStyle:{"text-align":"center"},attrs:{data:t.list,border:""}},[r("el-table-column",{attrs:{label:"序号",prop:"id"}}),t._v(" "),r("el-table-column",{attrs:{label:"图片"},scopedSlots:t._u([{key:"default",fn:function(t){return[r("img",{attrs:{src:t.row.image,alt:""}})]}}])}),t._v(" "),r("el-table-column",{attrs:{label:"位置信息",prop:"position"}}),t._v(" "),r("el-table-column",{attrs:{label:"发布者ID",prop:"userId"}}),t._v(" "),r("el-table-column",{attrs:{label:"上传时间",prop:"uploadTime"}}),t._v(" "),r("el-table-column",{attrs:{label:"状态"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("el-tag",{attrs:{type:t._f("statusTagFilter")(e.row.status)}},[t._v(t._s(t._f("statusFilter")(e.row.status)))])]}}])}),t._v(" "),r("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[2===e.row.status?r("el-button",{attrs:{type:"primary"},on:{click:function(r){t.review(e.row)}}},[t._v("重新审核")]):[r("el-button",{attrs:{type:"success"},on:{click:function(r){t.pass(e.row)}}},[t._v("通过")]),t._v(" "),r("el-button",{attrs:{type:"danger"},on:{click:function(r){t.noPass(e.row)}}},[t._v("不通过")]),t._v(" "),r("el-button",{attrs:{type:"warning"},on:{click:function(r){t.deleteCover(e.row)}}},[t._v("删除")])]]}}])})],1)],1),t._v(" "),r("el-footer",[r("pagination",{attrs:{total:t.total,listQuery:t.listQuery,GetList:t.GetCoverList}})],1)],1)},staticRenderFns:[]};var c=r("VU/8")(o,u,!1,function(t){r("y5TD")},null,null);e.default=c.exports},y5TD:function(t,e){}});