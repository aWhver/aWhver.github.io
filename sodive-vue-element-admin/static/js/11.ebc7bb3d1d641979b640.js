webpackJsonp([11],{Fqwz:function(t,e,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=l("V/8j"),a={data:function(){return{list:null,visible:!1,isEdit:!1,urlForm:{id:null,url:"",introduce:"",language:"",status:""},urlRules:{url:[{required:!0,message:"网址不能为空",trigger:"blur"}],language:[{required:!0,message:"语言选择不能为空",trigger:"change"}],status:[{required:!0,message:"请选择是否有效",trigger:"change"}]},languageMap:["en","ch"]}},created:function(){this.GetUrlInfo()},methods:{GetUrlInfo:function(){var t=this;Object(r.b)(this.$route.params.urlId).then(function(e){t.list=e.data.urlInfo.urlMap})},editUrl:function(t){this.isEdit=!0,this.visible=!0,this.urlForm={id:t.id,url:t.url,introduce:t.introduce,language:t.language,status:t.status+""}},submitForm:function(){var t=this;this.$refs.urlForm.validate(function(e){e&&(t.isEdit?t.list.forEach(function(e,l){e.id===t.urlForm.id&&(t.list.splice(l,1,t.urlForm),t.$message.success("编辑成功"))}):Object(r.a)(t.urlForm).then(function(){t.$message.success("新增成功"),t.list.unshift(t.urlForm)}),t.visible=!1)})},resetForm:function(){this.isEdit=!1,this.urlForm={id:null,url:"",introduce:"",language:"",status:""}},handleCreate:function(){var t=this;this.resetForm(),this.visible=!0,this.$nextTick(function(){t.$refs.urlForm.clearValidate()})},goBack:function(){this.$router.go(-1)}},filters:{statusFilter:function(t){return["无效","有效"][t]}}},i={render:function(){var t=this,e=t.$createElement,l=t._self._c||e;return l("div",[l("el-header",{staticStyle:{"text-align":"right"}},[l("div",{staticClass:"filter-container"},[l("div",{staticClass:"filter-item",staticStyle:{float:"left"}},[l("el-button",{attrs:{type:"primary"},on:{click:t.goBack}},[l("svg-icon",{attrs:{iconClass:"back"}}),t._v("网址管理")],1)],1),t._v(" "),l("div",{staticClass:"filter-item"},[l("el-button",{attrs:{type:"primary"},on:{click:t.handleCreate}},[t._v("新增"),l("i",{staticClass:"el-icon-circle-plus"})])],1)])]),t._v(" "),l("el-main",[l("el-table",{staticStyle:{"text-align":"center"},attrs:{data:t.list,border:""}},[l("el-table-column",{attrs:{label:"网页链接",prop:"url","min-width":"300"}}),t._v(" "),l("el-table-column",{attrs:{label:"网页说明",prop:"introduce","min-width":"180"}}),t._v(" "),l("el-table-column",{attrs:{label:"语言",prop:"language",width:"60"}}),t._v(" "),l("el-table-column",{attrs:{label:"状态"},scopedSlots:t._u([{key:"default",fn:function(e){return[l("span",[t._v(t._s(t._f("statusFilter")(e.row.status)))])]}}])}),t._v(" "),l("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[l("el-button",{attrs:{type:"primary",icon:"el-icon-edit"},on:{click:function(l){t.editUrl(e.row)}}},[t._v("编辑")])]}}])})],1)],1),t._v(" "),l("el-dialog",{attrs:{title:t.isEdit?"编辑":"新增",visible:t.visible},on:{"update:visible":function(e){t.visible=e}}},[l("div",{staticClass:"content"},[l("el-form",{ref:"urlForm",attrs:{model:t.urlForm,rules:t.urlRules,inline:""}},[l("el-form-item",{attrs:{label:"网页地址",prop:"url"}},[l("el-input",{attrs:{clearable:""},model:{value:t.urlForm.url,callback:function(e){t.$set(t.urlForm,"url",e)},expression:"urlForm.url"}})],1),t._v(" "),l("el-form-item",{attrs:{label:"网页说明"}},[l("el-input",{attrs:{clearable:""},model:{value:t.urlForm.introduce,callback:function(e){t.$set(t.urlForm,"introduce",e)},expression:"urlForm.introduce"}})],1),t._v(" "),l("el-form-item",{attrs:{label:"语言",prop:"language"}},[l("el-select",{staticStyle:{width:"100px"},attrs:{clearable:""},model:{value:t.urlForm.language,callback:function(e){t.$set(t.urlForm,"language",e)},expression:"urlForm.language"}},t._l(t.languageMap,function(t){return l("el-option",{key:t,attrs:{value:t,label:t}})}))],1),t._v(" "),l("el-form-item",{staticStyle:{display:"block"},attrs:{label:"是否有效",prop:"status"}},[l("el-radio-group",{model:{value:t.urlForm.status,callback:function(e){t.$set(t.urlForm,"status",e)},expression:"urlForm.status"}},[l("el-radio",{attrs:{label:"0"}},[t._v("无效")]),t._v(" "),l("el-radio",{attrs:{label:"1"}},[t._v("有效")])],1)],1)],1)],1),t._v(" "),l("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[l("el-button",{on:{click:function(e){t.visible=!1}}},[t._v("取消")]),t._v(" "),l("el-button",{attrs:{type:"primary"},on:{click:t.submitForm}},[t._v("确定")])],1)])],1)},staticRenderFns:[]};var s=l("VU/8")(a,i,!1,function(t){l("T6dR")},"data-v-defffc46",null);e.default=s.exports},T6dR:function(t,e){}});