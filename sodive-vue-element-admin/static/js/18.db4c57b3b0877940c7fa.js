webpackJsonp([18],{bxFp:function(e,t){},"dLi+":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a("Xx3T"),r=a("1uAe"),i=a("0xDb"),o={data:function(){return{taskForm:{taskId:(1e7*Math.random()).toFixed(0),taskName:"",taskDescription:"",top:"yes",taskCircle:"",datetimeMerge:[],showRegion:"",detail:"",createTime:"",updateTime:"",status:"effective",subTask:[],userNumberRecord:[]},taskRules:{taskName:[{required:!0,trigger:"blur",message:"请输入任务名称"}],taskDescription:[{required:!0,trigger:"blur",message:"请对任务进行描述"}],taskCircle:[{required:!0,trigger:"change",message:"请选择任务周期"}],showRegion:[{required:!0,trigger:"change",message:"请选择显示地区"}],detail:[{required:!0,trigger:"blur",message:"请输入详情"}]}}},created:function(){this.editDetail()},methods:{editDetail:function(){var e=this;this.$route.params.taskId&&Object(r.e)(this.$route.params.taskId).then(function(t){e.taskForm=t.data.filteredTask,e.taskForm.updateTime=Object(i.a)()})},submitForm:function(){var e=this;this.$refs.taskForm.validate(function(t){t&&(e.$route.params.taskId?e.$notify({title:"修改成功",message:"修改主任务成功",type:"success"}):(e.taskForm.createTime=Object(i.a)(),Object(r.b)(e.taskForm).then(function(){"1"!==e.taskForm.taskCircle||null!==e.taskForm.datetimeMerge&&0!==e.taskForm.datetimeMerge.length?e.$notify({title:"新增成功",message:"新增主任务成功",type:"success"}):e.$message.warning("请选择任务开始和结束时间")})))})},resetForm:function(){this.taskForm={taskId:(1e7*Math.random()).toFixed(0),taskName:"",taskDescription:"",top:"0",taskCircle:"",datetimeMerge:[],showRegion:"",detail:"",createTime:"",updateTime:"",status:"effective"},this.$refs.taskForm.clearValidate()}},components:{tinymce:s.a}},l={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"edit-main-task"},[a("el-form",{ref:"taskForm",attrs:{inline:"","label-position":"right","label-width":"120px",model:e.taskForm,rules:e.taskRules}},[a("el-form-item",{attrs:{label:"任务名称",prop:"taskName"}},[a("el-input",{model:{value:e.taskForm.taskName,callback:function(t){e.$set(e.taskForm,"taskName",t)},expression:"taskForm.taskName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"任务描述",prop:"taskDescription"}},[a("el-input",{model:{value:e.taskForm.taskDescription,callback:function(t){e.$set(e.taskForm,"taskDescription",t)},expression:"taskForm.taskDescription"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"是否置顶",prop:"top"}},[a("el-radio-group",{model:{value:e.taskForm.top,callback:function(t){e.$set(e.taskForm,"top",t)},expression:"taskForm.top"}},[a("el-radio",{attrs:{label:"yes"}},[e._v("否")]),e._v(" "),a("el-radio",{attrs:{label:"no"}},[e._v("是")])],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"任务周期",prop:"taskCircle"}},[a("el-radio-group",{model:{value:e.taskForm.taskCircle,callback:function(t){e.$set(e.taskForm,"taskCircle",t)},expression:"taskForm.taskCircle"}},[a("el-radio",{attrs:{label:"noLimit"}},[e._v("无时间限制")]),e._v(" "),a("el-radio",{attrs:{label:"limit"}},[e._v("任务时间周期  "),a("el-date-picker",{attrs:{type:"datetimerange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:e.taskForm.datetimeMerge,callback:function(t){e.$set(e.taskForm,"datetimeMerge",t)},expression:"taskForm.datetimeMerge"}})],1)],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"列表图片"}},[a("el-upload",{attrs:{action:"https://httpbin.org/post","list-type":"picture-card"}},[a("i",{staticClass:"el-icon-plus"})])],1),e._v(" "),a("el-form-item",{attrs:{label:"首页广告位"}},[a("el-upload",{attrs:{action:"https://httpbin.org/post","list-type":"picture-card"}},[a("i",{staticClass:"el-icon-plus"})])],1),e._v(" "),a("el-form-item",{attrs:{label:"显示地区",prop:"showRegion"}},[a("el-radio-group",{model:{value:e.taskForm.showRegion,callback:function(t){e.$set(e.taskForm,"showRegion",t)},expression:"taskForm.showRegion"}},[a("el-radio",{attrs:{label:"all"}},[e._v("全部")]),e._v(" "),a("el-radio",{attrs:{label:"China"}},[e._v("中国")]),e._v(" "),a("el-radio",{attrs:{label:"abroad"}},[e._v("海外")])],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"详情",prop:"detail"}},[a("tinymce",{attrs:{height:300},model:{value:e.taskForm.detail,callback:function(t){e.$set(e.taskForm,"detail",t)},expression:"taskForm.detail"}})],1),e._v(" "),a("el-form-item",{staticStyle:{"text-align":"center"}},[a("el-button",{on:{click:e.resetForm}},[e._v("重置")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("确定")])],1)],1)],1)},staticRenderFns:[]};var m=a("VU/8")(o,l,!1,function(e){a("bxFp")},null,null);t.default=m.exports}});