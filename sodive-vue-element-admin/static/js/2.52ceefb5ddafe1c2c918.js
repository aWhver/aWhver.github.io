webpackJsonp([2,21,33],{"0Uot":function(t,e){},"3s4R":function(t,e){},EQWy:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var l=a("1uAe"),i={name:"statistics",data:function(){return{list:null,total:1,listQuery:{page:1,timeCircle:null},loading:!0,timeCircleMap:[{key:"week",time:"最近一周"},{key:"month",time:"最近一个月"},{key:"quarterYear",time:"最近3个月"},{key:"halfYear",time:"最近半年"},{key:"year",time:"最近一年"}]}},created:function(){this.GetStatisticsList()},methods:{GetStatisticsList:function(){var t=this;this.loading=!0,Object(l.l)(this.listQuery).then(function(e){t.list=e.data.statisticsList,t.total=e.data.total,t.loading=!1})}}},n={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-header",[a("div",{staticClass:"filter-container",staticStyle:{height:"60px"}},[a("div",{staticClass:"filter-item",staticStyle:{"margin-top":"10px"}},[a("el-select",{staticStyle:{width:"130px"},attrs:{clearable:""},on:{change:t.GetStatisticsList},model:{value:t.listQuery.timeCircle,callback:function(e){t.$set(t.listQuery,"timeCircle",e)},expression:"listQuery.timeCircle"}},t._l(t.timeCircleMap,function(t){return a("el-option",{key:t.key,attrs:{value:t.key,label:t.time}})}))],1)])]),t._v(" "),a("el-main",[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticStyle:{"text-align":"center"},attrs:{data:t.list,border:"","element-loading-text":"小主,我需要时间..."}},[a("el-table-column",{attrs:{label:"分享内容",prop:"shareContent"}}),t._v(" "),a("el-table-column",{attrs:{label:"facebook",prop:"facebook"}}),t._v(" "),a("el-table-column",{attrs:{label:"微信朋友圈",prop:"wechatMoments"}}),t._v(" "),a("el-table-column",{attrs:{label:"微信",prop:"wechat"}}),t._v(" "),a("el-table-column",{attrs:{label:"twitter",prop:"twitter"}}),t._v(" "),a("el-table-column",{attrs:{label:"总分享次数"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.facebook+e.row.wechatMoments+e.row.wechat+e.row.twitter))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"总浏览次数",prop:"browseNum"}})],1)],1),t._v(" "),a("el-footer",[a("pagination",{attrs:{total:t.total,listQuery:t.listQuery,GetList:t.GetStatisticsList}})],1)],1)},staticRenderFns:[]};var s=a("VU/8")(i,n,!1,function(t){a("3s4R")},null,null);e.default=s.exports},QA5Q:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var l=a("EQWy"),i=a("lZmI"),n={name:"shareStatistics",data:function(){return{currentTab:"statistics"}},methods:{toggleTab:function(t){this.currentTab=t}},components:{statistics:l.default,detail:i.default}},s={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"tabs"},[a("div",{staticClass:"tab",class:{active:"statistics"===t.currentTab},on:{click:function(e){t.toggleTab("statistics")}}},[t._v("用户分享统计")]),t._v(" "),a("div",{staticClass:"tab",class:{active:"detail"===t.currentTab},on:{click:function(e){t.toggleTab("detail")}}},[t._v("用户分享详情")])]),t._v(" "),a("div",[a("keep-alive",[a(t.currentTab,{tag:"component"})],1)],1)])},staticRenderFns:[]};var r=a("VU/8")(n,s,!1,function(t){a("m7hA")},"data-v-33454c38",null);e.default=r.exports},lZmI:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var l=a("1uAe"),i={facebook:"facebook",twitter:"twitter",wechatMoments:"微信朋友圈",wechat:"微信"},n={data:function(){return{list:null,total:1,listQuery:{page:1,shareChannel:null,coachId:null},dateRange:[],loading:!0,shareChannelMap:[{key:"facebook",channel:"facebook"},{key:"twitter",channel:"twitter"},{key:"wechatMoments",channel:"微信朋友圈"},{key:"wechat",channel:"微信"}],downloadLoading:!1,tableList:""}},created:function(){this.GetDetailList()},methods:{GetDetailList:function(){var t=this;this.loading=!0,Object(l.g)(this.listQuery,this.dateRange).then(function(e){t.list=e.data.detailList,t.total=e.data.total,t.loading=!1})},excelExport:function(){var t=this;this.downloadLoading=!1,a.e(38).then(a.bind(null,"zWO4")).then(function(e){var a=t.formatJson(["coachId","nickName","shareType","shareNum","browseNum","shareChannel"],t.list);""===t.tableList&&(t.tableList="share-list"),e.export_json_to_excel(["分享人ID","昵称","分享类型","累计分享次数","累计浏览次数","分享渠道"],a,t.tableList),t.downloadLoading=!1})},formatJson:function(t,e){return e.map(function(e){return t.map(function(t){return"shareChannel"===t?i[e[t]]:e[t]})})},acceptQuery:function(t){this.listQuery=t.listQuery}},filters:{channelFilter:function(t){return i[t]}}},s={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("certificate-filter",{attrs:{GetList:t.GetDetailList},on:{sendListQuery:t.acceptQuery}},[a("div",{staticClass:"filter-item"},[a("el-select",{staticStyle:{width:"120px"},attrs:{placeholder:"分享渠道",clearable:""},model:{value:t.listQuery.shareChannel,callback:function(e){t.$set(t.listQuery,"shareChannel",e)},expression:"listQuery.shareChannel"}},t._l(t.shareChannelMap,function(t){return a("el-option",{key:t.key,attrs:{value:t.key,label:t.channel}})}))],1),t._v(" "),a("div",{staticClass:"filter-item"},[a("el-input",{staticStyle:{width:"120px"},attrs:{placeholder:"分享人ID",clearable:""},model:{value:t.listQuery.coachId,callback:function(e){t.$set(t.listQuery,"coachId",e)},expression:"listQuery.coachId"}})],1),t._v(" "),a("div",{staticClass:"filter-item"},[a("el-date-picker",{attrs:{type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:t.dateRange,callback:function(e){t.dateRange=e},expression:"dateRange"}})],1),t._v(" "),a("template",{slot:"excel"},[a("div",{staticClass:"filter-item"},[a("el-input",{attrs:{placeholder:"输入excel名字,默认share-list",clearable:""},model:{value:t.tableList,callback:function(e){t.tableList=e},expression:"tableList"}})],1),t._v(" "),a("div",{staticClass:"filter-item"},[a("el-button",{attrs:{type:"primary",loading:t.downloadLoading,icon:"el-icon-download"},on:{click:t.excelExport}},[t._v("Excel")])],1)])],2),t._v(" "),a("el-main",[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticStyle:{"text-align":"center"},attrs:{data:t.list,border:"","element-loading-text":"小主,我需要时间..."}},[a("el-table-column",{attrs:{label:"分享人ID",prop:"coachId"}}),t._v(" "),a("el-table-column",{attrs:{label:"昵称",prop:"nickName"}}),t._v(" "),a("el-table-column",{attrs:{label:"分享类型",prop:"shareType"}}),t._v(" "),a("el-table-column",{attrs:{label:"累计分享次数",prop:"shareNum"}}),t._v(" "),a("el-table-column",{attrs:{label:"累计浏览次数",prop:"browseNum"}}),t._v(" "),a("el-table-column",{attrs:{label:"分享渠道"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(t._f("channelFilter")(e.row.shareChannel)))])]}}])})],1)],1),t._v(" "),a("el-footer",[a("pagination",{attrs:{total:t.total,listQuery:t.listQuery,GetList:t.GetDetailList}})],1)],1)},staticRenderFns:[]};var r=a("VU/8")(n,s,!1,function(t){a("0Uot")},null,null);e.default=r.exports},m7hA:function(t,e){}});