webpackJsonp([3],{"0/g4":function(t,e){},"1x8f":function(t,e,r){"use strict";e.a=function(t){return Object(n.a)({url:"contentManagement/coverList",method:"get",params:t})};var n=r("vLgD")},d1GE:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r("BO1k"),a=r.n(n),i=r("d7EF"),s=r.n(i),l=r("1x8f"),o={name:"coverPending",props:{type:{type:Number,default:1}},data:function(){return{activeName:"pending",list:null,total:1,listQuery:{page:1,type:this.type,userId:null}}},created:function(){this.GetCoverList()},methods:{GetCoverList:function(){var t=this;Object(l.a)(this.listQuery).then(function(e){t.list=e.data.coverList,t.total=e.data.total})},review:function(t){var e=!0,r=!1,n=void 0;try{for(var i,l=a()(this.list.entries());!(e=(i=l.next()).done);e=!0){var o=i.value,u=s()(o,2),c=u[0];if(u[1].userId===t.userId){this.list[c].status=1;break}}}catch(t){r=!0,n=t}finally{try{!e&&l.return&&l.return()}finally{if(r)throw n}}this.$notify({title:"Prompt",message:"成功将此条发现修改为重新审核",type:"info",duration:2e3})},pass:function(t){var e=!0,r=!1,n=void 0;try{for(var i,l=a()(this.list.entries());!(e=(i=l.next()).done);e=!0){var o=i.value,u=s()(o,2),c=u[0];if(u[1].userId===t.userId){this.list[c].status=2;break}}}catch(t){r=!0,n=t}finally{try{!e&&l.return&&l.return()}finally{if(r)throw n}}this.$notify({title:"Prompt",message:"成功将此条发现通过审核",type:"info",duration:2e3})},noPass:function(t){var e=!0,r=!1,n=void 0;try{for(var i,l=a()(this.list.entries());!(e=(i=l.next()).done);e=!0){var o=i.value,u=s()(o,2),c=u[0];if(u[1].userId===t.userId){this.list[c].status=0;break}}}catch(t){r=!0,n=t}finally{try{!e&&l.return&&l.return()}finally{if(r)throw n}}this.$notify({title:"Prompt",message:"成功将此条发现设为不通过",type:"info",duration:2e3})},deleteCover:function(t){var e=!0,r=!1,n=void 0;try{for(var i,l=a()(this.list.entries());!(e=(i=l.next()).done);e=!0){var o=i.value,u=s()(o,2),c=u[0];if(u[1].userId===t.userId){this.list.splice(c,1);break}}}catch(t){r=!0,n=t}finally{try{!e&&l.return&&l.return()}finally{if(r)throw n}}this.$notify({title:"Prompt",message:"成功将此条发现删除",type:"info",duration:2e3})},acceptQuery:function(t){this.listQuery=t.listQuery,this.listQuery.type=this.type}},filters:{statusFilter:function(t){return["审核失败","待审核","通过"][t]},statusTagFilter:function(t){return["danger","primary","success"][t]}}},u={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("certificate-filter",{attrs:{GetList:t.GetCoverList},on:{sendListQuery:t.acceptQuery}},[r("div",{staticClass:"filter-item"},[r("el-input",{attrs:{placeholder:"发布者ID",clearable:""},model:{value:t.listQuery.userId,callback:function(e){t.$set(t.listQuery,"userId",e)},expression:"listQuery.userId"}})],1)]),t._v(" "),r("el-main",[r("el-table",{staticStyle:{"text-align":"center"},attrs:{data:t.list,border:""}},[r("el-table-column",{attrs:{label:"序号",prop:"id"}}),t._v(" "),r("el-table-column",{attrs:{label:"图片"},scopedSlots:t._u([{key:"default",fn:function(t){return[r("img",{attrs:{src:t.row.image,alt:""}})]}}])}),t._v(" "),r("el-table-column",{attrs:{label:"位置信息",prop:"position"}}),t._v(" "),r("el-table-column",{attrs:{label:"发布者ID",prop:"userId"}}),t._v(" "),r("el-table-column",{attrs:{label:"上传时间",prop:"uploadTime"}}),t._v(" "),r("el-table-column",{attrs:{label:"状态"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("el-tag",{attrs:{type:t._f("statusTagFilter")(e.row.status)}},[t._v(t._s(t._f("statusFilter")(e.row.status)))])]}}])}),t._v(" "),r("el-table-column",{attrs:{label:"操作",width:"220px"},scopedSlots:t._u([{key:"default",fn:function(e){return[1===e.row.status?[r("el-button",{attrs:{type:"success"},on:{click:function(r){t.pass(e.row)}}},[t._v("通过")]),t._v(" "),r("el-button",{attrs:{type:"danger"},on:{click:function(r){t.noPass(e.row)}}},[t._v("不通过")]),t._v(" "),r("el-button",{attrs:{type:"warning"},on:{click:function(r){t.deleteCover(e.row)}}},[t._v("删除")])]:[r("el-button",{attrs:{type:"primary"},on:{click:function(r){t.review(e.row)}}},[t._v("重新审核")]),t._v(" "),r("el-button",{attrs:{type:"warning"},on:{click:function(r){t.deleteCover(e.row)}}},[t._v("删除")])]]}}])})],1)],1),t._v(" "),r("el-footer",[r("pagination",{attrs:{total:t.total,listQuery:t.listQuery,GetList:t.GetCoverList}})],1)],1)},staticRenderFns:[]};var c={name:"discoverPending",data:function(){return{activeName:"pending",coverPendMap:[{name:"pending",label:"待审核",type:1},{name:"failed",label:"审核失败",type:0}]}},components:{coverPending:r("VU/8")(o,u,!1,function(t){r("0/g4")},null,null).exports}},f={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("el-tabs",{model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},t._l(t.coverPendMap,function(e){return r("el-tab-pane",{key:e.type,attrs:{name:e.name,label:e.label}},[e.name===t.activeName?r("cover-pending",{attrs:{type:e.type}}):t._e()],1)}))],1)},staticRenderFns:[]};var d=r("VU/8")(c,f,!1,function(t){r("f9YK")},null,null);e.default=d.exports},f9YK:function(t,e){}});