webpackJsonp([4],{"64jW":function(t,e){},CJAC:function(t,e,i){"use strict";var a=i("BO1k"),n=i.n(a),s=i("ms7A"),r={name:"certificatePending",props:{type:{type:Number,default:0}},data:function(){return{pending:{certificateList:null,total:1},loading:!0,listQuery:{page:1,limit:10,type:this.type,userId:null,name:null},visible:!1,selectedUserId:"",reason:"",imageList:[]}},created:function(){this.GetCertificateList()},methods:{GetCertificateList:function(){var t=this;this.loading=!0,Object(s.c)(this.listQuery).then(function(e){t.pending=e.data,t.loading=!1})},browseCertificate:function(t){this.imageList=t.image},pass:function(t){var e=!0,i=!1,a=void 0;try{for(var s,r=n()(this.pending.certificateList);!(e=(s=r.next()).done);e=!0){var l=s.value;if(l.userId===t.userId){var c=this.pending.certificateList.indexOf(l);this.pending.certificateList[c].status=1;break}}}catch(t){i=!0,a=t}finally{try{!e&&r.return&&r.return()}finally{if(i)throw a}}this.$notify({type:"success",title:"审核通过",message:"已将该证书标记为合格证书",duration:1500})},noPass:function(t){this.visible=!0,this.selectedUserId=t.userId},sureNoPass:function(){if(""===this.reason)return this.$message({message:"请输入不通过理由",type:"warning"}),!1;var t=!0,e=!1,i=void 0;try{for(var a,s=n()(this.pending.certificateList);!(t=(a=s.next()).done);t=!0){var r=a.value;if(r.userId===this.selectedUserId){var l=this.pending.certificateList.indexOf(r);this.pending.certificateList[l].status=2;break}}}catch(t){e=!0,i=t}finally{try{!t&&s.return&&s.return()}finally{if(e)throw i}}this.visible=!1,this.reason="",this.$notify({type:"success",title:"审核不通过",message:"已将该证书标记为不合格证书",duration:1500})},acceptQuery:function(t){this.listQuery=t.listQuery,this.listQuery.type=this.type}},filters:{statusFilter:function(t){return["待审核","已审核","审核失败"][t]},statusTagFilter:function(t){return["info","success","danger"][t]}}},l={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("certificate-filter",{attrs:{GetList:t.GetCertificateList},on:{sendListQuery:t.acceptQuery}},[i("div",{staticClass:"filter-item"},[i("el-input",{staticStyle:{width:"100px"},attrs:{placeholder:"ID",clearable:""},model:{value:t.listQuery.userId,callback:function(e){t.$set(t.listQuery,"userId",e)},expression:"listQuery.userId"}})],1),t._v(" "),i("div",{staticClass:"filter-item"},[i("el-input",{staticStyle:{width:"120px"},attrs:{placeholder:"姓名",clearable:""},model:{value:t.listQuery.name,callback:function(e){t.$set(t.listQuery,"name",e)},expression:"listQuery.name"}})],1)]),t._v(" "),i("el-main",[i("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticStyle:{"text-align":"center"},attrs:{data:t.pending.certificateList,"element-loading-text":"小主,我需要时间...",border:""}},[i("el-table-column",{attrs:{label:"序号",prop:"id",width:"60px"}}),t._v(" "),i("el-table-column",{attrs:{label:"ID",prop:"userId"}}),t._v(" "),i("el-table-column",{attrs:{label:"昵称",prop:"nickName"}}),t._v(" "),i("el-table-column",{attrs:{label:"用户类型",prop:"userType"}}),t._v(" "),i("el-table-column",{attrs:{label:"姓名",prop:"name"}}),t._v(" "),i("el-table-column",{attrs:{label:"认证机构",prop:"institution"}}),t._v(" "),i("el-table-column",{attrs:{label:"发证时间",prop:"getCertificateTime"}}),t._v(" "),i("el-table-column",{attrs:{label:"提交时间",prop:"submitCertificateTime"}}),t._v(" "),i("el-table-column",{attrs:{label:"状态"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("el-tag",{attrs:{type:t._f("statusTagFilter")(e.row.status)}},[t._v(t._s(t._f("statusFilter")(e.row.status)))])]}}])}),t._v(" "),i("el-table-column",{attrs:{"min-width":"180px",label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[0===e.row.status?[i("el-button",{attrs:{type:"success",size:"mini"},on:{click:function(i){t.pass(e.row)}}},[t._v("通过")]),t._v(" "),i("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(i){t.noPass(e.row)}}},[t._v("不通过")]),t._v(" "),i("el-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-picture"},on:{click:function(i){t.browseCertificate(e.row)}}},[t._v("查看")])]:1===e.row.status?[i("el-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-picture"},on:{click:function(i){t.browseCertificate(e.row)}}},[t._v("查看")])]:[i("el-button",{attrs:{type:"success",size:"mini"},on:{click:function(i){t.pass(e.row)}}},[t._v("通过")]),t._v(" "),i("el-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-picture"},on:{click:function(i){t.browseCertificate(e.row)}}},[t._v("查看")])]]}}])})],1)],1),t._v(" "),i("el-footer",[i("pagination",{attrs:{total:t.pending.total,listQuery:t.listQuery,GetList:t.GetCertificateList}})],1),t._v(" "),i("el-dialog",{attrs:{title:"将此证书标记为不通过",visible:t.visible},on:{"update:visible":function(e){t.visible=e}}},[i("div",[i("el-input",{attrs:{placeholder:"请输入不通过理由"},model:{value:t.reason,callback:function(e){t.reason=e},expression:"reason"}})],1),t._v(" "),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(e){t.visible=!1}}},[t._v("取消")]),t._v(" "),i("el-button",{attrs:{type:"primary"},on:{click:function(e){t.sureNoPass()}}},[t._v("确定")])],1)]),t._v(" "),i("photo-swipe",{attrs:{imageList:t.imageList}})],1)},staticRenderFns:[]};var c=i("VU/8")(r,l,!1,function(t){i("64jW")},null,null);e.a=c.exports},mTzq:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a={name:"coachExamine",data:function(){return{activeName:"pending",tabOptions:[{type:0,name:"pending",label:"待审核证件"},{type:1,name:"pended",label:"已审核证件"},{type:2,name:"failed",label:"审核失败"}]}},components:{certificatePend:i("CJAC").a}},n={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[[i("el-tabs",{model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},t._l(t.tabOptions,function(e){return i("el-tab-pane",{key:e.type,attrs:{label:e.label,name:e.name}},[i("keep-alive",[e.name===t.activeName?i("certificate-pend",{attrs:{type:e.type}}):t._e()],1)],1)}))]],2)},staticRenderFns:[]},s=i("VU/8")(a,n,!1,null,null,null);e.default=s.exports}});