webpackJsonp([15],{"Z+HZ":function(e,t){},mjed:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s={name:"discoverAdd",data:function(){return{country:"",countryMap:[{key:"cn",name:"中国"},{key:"us",name:"美国"},{key:"nsl",name:"新西兰"}],coverForm:{userId:"",city:"",site:""},coverRules:{userId:[{required:!0,trigger:"blur",message:"发布者ID不能为空"}],city:[{required:!0,trigger:"blur",message:"城市不能为空"}],site:[{required:!0,trigger:"blur",message:"潜点不能为空"}]},imageSuccess:!1}},methods:{submitForm:function(){var e=this;this.$refs.coverForm.validate(function(t){t&&e.imageSuccess?e.$notify({title:"发布成功",message:"发布成功",type:"success"}):e.$message.warning("请等待图片上传成功")})},resetForm:function(){this.$refs.coverForm.resetFields()},beforeUpload:function(e){var t=e.size/1024/1024>2;this.imageSuccess=!1,t&&this.$message.error("您上传的图片超过2M,请选择小于2M的图片进行上传")},handleSuccess:function(){this.imageSuccess=!0},handleRemove:function(){this.imageSuccess=!1},handleExceed:function(e){this.$message.warning("限上传1张图片")},handleProgress:function(e,t,r){console.log(e),console.log(t),console.log(r)}}},o={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"discover-add-container"},[r("el-form",{ref:"coverForm",attrs:{inline:"",model:e.coverForm,rules:e.coverRules,"label-position":"right","label-width":"120px"}},[r("el-form-item",{attrs:{label:"发布者ID",prop:"userId"}},[r("el-input",{attrs:{clearable:""},model:{value:e.coverForm.userId,callback:function(t){e.$set(e.coverForm,"userId",t)},expression:"coverForm.userId"}})],1),e._v(" "),r("el-form-item",{staticStyle:{display:"block"},attrs:{label:"上传图片"}},[r("el-upload",{attrs:{action:"https://httpbin.org/post",multiple:!1,"list-type":"picture-card",limit:1,"before-upload":e.beforeUpload,"on-exceed":e.handleExceed,"on-success":e.handleSuccess,"on-progress":e.handleProgress,"on-remove":e.handleRemove}},[r("i",{staticClass:"el-icon-plus"}),e._v(" "),r("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v("图片小超过2M")])])],1),e._v(" "),r("el-form-item",{staticClass:"imageInfo",staticStyle:{display:"block"},attrs:{label:"图片位置信息",required:""}},[r("el-select",{attrs:{clearable:""},model:{value:e.country,callback:function(t){e.country=t},expression:"country"}},e._l(e.countryMap,function(e){return r("el-option",{key:e.key,attrs:{label:e.name,value:e.key}})})),e._v(" "),r("el-form-item",{attrs:{prop:"city"}},[r("el-input",{attrs:{placeholder:"城市",clearable:""},model:{value:e.coverForm.city,callback:function(t){e.$set(e.coverForm,"city",t)},expression:"coverForm.city"}})],1),e._v(" "),r("el-form-item",{attrs:{prop:"site"}},[r("el-input",{attrs:{placeholder:"潜点",clearable:""},model:{value:e.coverForm.site,callback:function(t){e.$set(e.coverForm,"site",t)},expression:"coverForm.site"}})],1)],1),e._v(" "),r("el-form-item",{staticStyle:{display:"block"},attrs:{label:"审核状态"}},[r("h3",[e._v("通过")])]),e._v(" "),r("el-form-item",{staticStyle:{display:"block",width:"400px","text-align":"center"}},[r("el-button",{on:{click:e.resetForm}},[e._v("取消")]),e._v(" "),r("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("发布")])],1)],1)],1)},staticRenderFns:[]};var l=r("VU/8")(s,o,!1,function(e){r("Z+HZ")},null,null);t.default=l.exports}});