webpackJsonp([21],{"0Uot":function(e,t){},lZmI:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=a("1uAe"),n={facebook:"facebook",twitter:"twitter",wechatMoments:"微信朋友圈",wechat:"微信"},i={data:function(){return{list:null,total:1,listQuery:{page:1,shareChannel:null,coachId:null},dateRange:[],loading:!0,shareChannelMap:[{key:"facebook",channel:"facebook"},{key:"twitter",channel:"twitter"},{key:"wechatMoments",channel:"微信朋友圈"},{key:"wechat",channel:"微信"}],downloadLoading:!1,tableList:""}},created:function(){this.GetDetailList()},methods:{GetDetailList:function(){var e=this;this.loading=!0,Object(l.g)(this.listQuery,this.dateRange).then(function(t){e.list=t.data.detailList,e.total=t.data.total,e.loading=!1})},excelExport:function(){var e=this;this.downloadLoading=!1,a.e(38).then(a.bind(null,"zWO4")).then(function(t){var a=e.formatJson(["coachId","nickName","shareType","shareNum","browseNum","shareChannel"],e.list);""===e.tableList&&(e.tableList="share-list"),t.export_json_to_excel(["分享人ID","昵称","分享类型","累计分享次数","累计浏览次数","分享渠道"],a,e.tableList),e.downloadLoading=!1})},formatJson:function(e,t){return t.map(function(t){return e.map(function(e){return"shareChannel"===e?n[t[e]]:t[e]})})},acceptQuery:function(e){this.listQuery=e.listQuery}},filters:{channelFilter:function(e){return n[e]}}},r={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("certificate-filter",{attrs:{GetList:e.GetDetailList},on:{sendListQuery:e.acceptQuery}},[a("div",{staticClass:"filter-item"},[a("el-select",{staticStyle:{width:"120px"},attrs:{placeholder:"分享渠道",clearable:""},model:{value:e.listQuery.shareChannel,callback:function(t){e.$set(e.listQuery,"shareChannel",t)},expression:"listQuery.shareChannel"}},e._l(e.shareChannelMap,function(e){return a("el-option",{key:e.key,attrs:{value:e.key,label:e.channel}})}))],1),e._v(" "),a("div",{staticClass:"filter-item"},[a("el-input",{staticStyle:{width:"120px"},attrs:{placeholder:"分享人ID",clearable:""},model:{value:e.listQuery.coachId,callback:function(t){e.$set(e.listQuery,"coachId",t)},expression:"listQuery.coachId"}})],1),e._v(" "),a("div",{staticClass:"filter-item"},[a("el-date-picker",{attrs:{type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:e.dateRange,callback:function(t){e.dateRange=t},expression:"dateRange"}})],1),e._v(" "),a("template",{slot:"excel"},[a("div",{staticClass:"filter-item"},[a("el-input",{attrs:{placeholder:"输入excel名字,默认share-list",clearable:""},model:{value:e.tableList,callback:function(t){e.tableList=t},expression:"tableList"}})],1),e._v(" "),a("div",{staticClass:"filter-item"},[a("el-button",{attrs:{type:"primary",loading:e.downloadLoading,icon:"el-icon-download"},on:{click:e.excelExport}},[e._v("Excel")])],1)])],2),e._v(" "),a("el-main",[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{"text-align":"center"},attrs:{data:e.list,border:"","element-loading-text":"小主,我需要时间..."}},[a("el-table-column",{attrs:{label:"分享人ID",prop:"coachId"}}),e._v(" "),a("el-table-column",{attrs:{label:"昵称",prop:"nickName"}}),e._v(" "),a("el-table-column",{attrs:{label:"分享类型",prop:"shareType"}}),e._v(" "),a("el-table-column",{attrs:{label:"累计分享次数",prop:"shareNum"}}),e._v(" "),a("el-table-column",{attrs:{label:"累计浏览次数",prop:"browseNum"}}),e._v(" "),a("el-table-column",{attrs:{label:"分享渠道"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e._f("channelFilter")(t.row.shareChannel)))])]}}])})],1)],1),e._v(" "),a("el-footer",[a("pagination",{attrs:{total:e.total,listQuery:e.listQuery,GetList:e.GetDetailList}})],1)],1)},staticRenderFns:[]};var s=a("VU/8")(i,r,!1,function(e){a("0Uot")},null,null);t.default=s.exports}});